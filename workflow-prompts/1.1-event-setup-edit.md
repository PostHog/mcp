---
uri: "posthog://event-setup/edit"
---

For each of the files and events noted in .posthog-events.json, make edits to capture events using PostHog. Make sure to set up any helper files needed. Carefully examine the included example project code: your implementation should match it as closely as possible.

For each event, add useful properties, and use your access to the PostHog source code to ensure correctness. You also have access to documentation about creating new events with PostHog. Consider this documentation carefully and follow it closely before adding events. Your integration should be based on documented best practices. Carefully consider how the user project's framework version may impact the correct PostHog integration approach.

Remember that you can find the source code for any dependency in the node_modules directory. This may be necessary to properly populate property names.

Where possible, add calls for PostHog's identify() function on the client side. On the server side, make sure events have a matching distinct ID where relevant. Use the same ID for identify on the client as you use distinct ID on the server. Logins and signups are a great opportunity to identify users. It's essential to do this in both client code and server code, so that user behavior from both domains is easy to correlate.

You should also add PostHog error tracking to these files where relevant.

Remember: Do not alter the fundamental architecture of existing files. Make your additions minimal and targeted.

These resources will help. Access and read them before proceeding.

- posthog://docs - PostHog integration documentation
- posthog://example-project - Complete example Next.js project contents with a known-good PostHog integration represented as a markdown file. Read this entire file into context before proceeding. Use this example as a guide for how to write PostHog integration code. Your own additions should look similar.
- posthog://docs/identify - Understand how to identify users between server and client contexts.

Upon completion, review the resource posthog://event-setup/revise

## Notes on react-based projects

- Under no circumstances shall you use useEffect; this is brittle and causes errors
- Prefer event handlers or routing mechanisms to trigger analytics calls